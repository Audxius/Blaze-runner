[gd_scene load_steps=9 format=3 uid="uid://b27hk7hmk1325"]

[ext_resource type="Script" path="res://Scenes/Enemies/boss/boss.gd" id="1_67hkp"]
[ext_resource type="Texture2D" uid="uid://ox4w1lodsptq" path="res://More art/final Boss JOKER/joker sprite.png" id="1_jyi7h"]
[ext_resource type="Script" path="res://Scenes/Enemies/boss/bosshp.gd" id="2_x4kcq"]
[ext_resource type="Texture2D" uid="uid://d3q0gpww6kpn0" path="res://More art/Guns/machine gun.png" id="5_dci5a"]
[ext_resource type="AudioStream" uid="uid://bi3gdfawf6okh" path="res://Scenes/Enemies sounds/MiniBoss Sinister laugh.wav" id="6_nqs6w"]
[ext_resource type="Script" path="res://Scenes/Enemies/boss/bossshoot.gd" id="6_qmqyo"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f2dvs"]
size = Vector2(1089, 355)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k6d1t"]
size = Vector2(72, 108)

[node name="Boss" type="CharacterBody2D"]
script = ExtResource("1_67hkp")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(4.13333, 4.13333)
texture = ExtResource("1_jyi7h")
flip_h = true
hframes = 8

[node name="Notice area" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Notice area"]
position = Vector2(-534.5, 167.5)
shape = SubResource("RectangleShape2D_f2dvs")

[node name="Healthbar" type="ColorRect" parent="."]
offset_left = -47.0
offset_top = 84.0
offset_right = -27.0
offset_bottom = 107.0
color = Color(1, 0.180392, 0.180392, 1)
script = ExtResource("2_x4kcq")

[node name="Timer" type="Timer" parent="."]
wait_time = 0.15
one_shot = true

[node name="gun" type="Sprite2D" parent="."]
position = Vector2(-5, 21)
texture = ExtResource("5_dci5a")
flip_v = true
script = ExtResource("6_qmqyo")

[node name="shootfor" type="Timer" parent="."]
wait_time = 1.5
one_shot = true

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_nqs6w")

[node name="start" type="Timer" parent="."]
wait_time = 4.0
one_shot = true

[node name="cooldown" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="Hitbox" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hitbox"]
position = Vector2(-5, 10)
shape = SubResource("RectangleShape2D_k6d1t")

[connection signal="body_entered" from="Notice area" to="gun" method="_on_area_2d_body_entered"]
[connection signal="timeout" from="shootfor" to="gun" method="_on_shootfor_timeout"]
[connection signal="timeout" from="start" to="." method="_on_start_timeout"]
[connection signal="timeout" from="start" to="gun" method="_on_start_timeout"]
[connection signal="timeout" from="cooldown" to="gun" method="_on_cooldown_timeout"]
[connection signal="area_entered" from="Hitbox" to="Healthbar" method="_on_hitbox_area_entered"]
